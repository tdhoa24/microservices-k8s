{"ast":null,"code":"import React,{useState,useEffect}from'react';import{makeStyles}from'@material-ui/core/styles';import{Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Typography,Container,Box,Avatar}from'@material-ui/core';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({// ... existing styles ...\nproductImage:{width:theme.spacing(8),height:theme.spacing(8),marginRight:theme.spacing(2)},inventoryCell:{fontWeight:'bold',color:theme.palette.text.primary}// ... add other styles if needed ...\n}));const Inventory=()=>{const classes=useStyles();const[products,setProducts]=useState([]);useEffect(()=>{fetchInventoryAndProducts();},[]);const fetchInventoryAndProducts=async()=>{try{// Fetch inventory\nconst inventoryResponse=await fetch('http://localhost:3002/api/inventory');const inventoryData=await inventoryResponse.json();// Fetch products\nconst productsResponse=await fetch('http://localhost:3001/api/products');const productsData=await productsResponse.json();// Combine inventory data with product details\nconst combinedData=productsData.map(product=>{const inventoryItem=inventoryData.find(item=>item.id===product.id)||{};return{...product,quantity:inventoryItem.quantity||0};});setProducts(combinedData);}catch(error){console.error('Error fetching data:',error);}};const getProductImage=productName=>{return\"/images/products/\".concat(productName,\".webp\");};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",children:[/*#__PURE__*/_jsx(Box,{marginBottom:4,children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Inventory\"})}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Product\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Name\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Description\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Price\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Category\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Inventory\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:products.map(product=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Avatar,{src:getProductImage(product.name),alt:product.name,className:classes.productImage})}),/*#__PURE__*/_jsx(TableCell,{children:product.name}),/*#__PURE__*/_jsx(TableCell,{children:product.description}),/*#__PURE__*/_jsx(TableCell,{children:\"$\".concat(product.price.toFixed(2))}),/*#__PURE__*/_jsx(TableCell,{children:product.category}),/*#__PURE__*/_jsx(TableCell,{className:classes.inventoryCell+(product.quantity<=10?' lowInventory':''),children:product.quantity})]},product.id))})]})})]});};export default Inventory;","map":{"version":3,"names":["React","useState","useEffect","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Typography","Container","Box","Avatar","jsx","_jsx","jsxs","_jsxs","useStyles","theme","productImage","width","spacing","height","marginRight","inventoryCell","fontWeight","color","palette","text","primary","Inventory","classes","products","setProducts","fetchInventoryAndProducts","inventoryResponse","fetch","inventoryData","json","productsResponse","productsData","combinedData","map","product","inventoryItem","find","item","id","quantity","error","console","getProductImage","productName","concat","maxWidth","children","marginBottom","variant","gutterBottom","component","src","name","alt","className","description","price","toFixed","category"],"sources":["/Users/rayanslim/Desktop/docker-bootcamp-resources/03-section-three/ecommerce-ui/client/src/pages/Inventory.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  Typography,\n  Container,\n  Box,\n  Avatar,\n} from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  // ... existing styles ...\n  productImage: {\n    width: theme.spacing(8),\n    height: theme.spacing(8),\n    marginRight: theme.spacing(2),\n  },\n  inventoryCell: {\n    fontWeight: 'bold',\n    color: theme.palette.text.primary,\n  },\n  // ... add other styles if needed ...\n}));\n\nconst Inventory = () => {\n  const classes = useStyles();\n  const [products, setProducts] = useState([]);\n\n  useEffect(() => {\n    fetchInventoryAndProducts();\n  }, []);\n\n  const fetchInventoryAndProducts = async () => {\n    try {\n      // Fetch inventory\n      const inventoryResponse = await fetch('http://localhost:3002/api/inventory');\n      const inventoryData = await inventoryResponse.json();\n\n      // Fetch products\n      const productsResponse = await fetch('http://localhost:3001/api/products');\n      const productsData = await productsResponse.json();\n\n      // Combine inventory data with product details\n      const combinedData = productsData.map(product => {\n        const inventoryItem = inventoryData.find(item => item.id === product.id) || {};\n        return {\n          ...product,\n          quantity: inventoryItem.quantity || 0,\n        };\n      });\n\n      setProducts(combinedData);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  };\n\n  const getProductImage = (productName) => {\n    return `/images/products/${productName}.webp`;\n  };\n\n  return (\n    <Container maxWidth=\"lg\">\n      <Box marginBottom={4}>\n        <Typography variant=\"h4\" gutterBottom>\n          Inventory\n        </Typography>\n      </Box>\n      <TableContainer component={Paper}>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>Product</TableCell>\n              <TableCell>Name</TableCell>\n              <TableCell>Description</TableCell>\n              <TableCell>Price</TableCell>\n              <TableCell>Category</TableCell>\n              <TableCell>Inventory</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {products.map((product) => (\n              <TableRow key={product.id}>\n                <TableCell>\n                  <Avatar\n                    src={getProductImage(product.name)}\n                    alt={product.name}\n                    className={classes.productImage}\n                  />\n                </TableCell>\n                <TableCell>{product.name}</TableCell>\n                <TableCell>{product.description}</TableCell>\n                <TableCell>{`$${product.price.toFixed(2)}`}</TableCell>\n                <TableCell>{product.category}</TableCell>\n                <TableCell className={classes.inventoryCell + (product.quantity <= 10 ? ' lowInventory' : '')}>\n                  {product.quantity}\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Container>\n  );\n};\n\nexport default Inventory;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}