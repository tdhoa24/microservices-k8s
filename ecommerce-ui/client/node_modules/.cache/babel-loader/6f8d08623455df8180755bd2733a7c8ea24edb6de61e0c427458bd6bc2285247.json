{"ast":null,"code":"import React,{useState,useEffect}from'react';import{makeStyles}from'@material-ui/core/styles';import{Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Typography,Container,Box,Avatar,Button}from'@material-ui/core';import{Link}from'react-router-dom';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({container:{marginTop:theme.spacing(4)},header:{display:'flex',alignItems:'center',marginBottom:theme.spacing(4)},backButton:{marginRight:'auto'},title:{flexGrow:1,textAlign:'center'},tableHeader:{backgroundColor:theme.palette.primary.main,color:theme.palette.common.white},tableHeaderCell:{fontWeight:'bold',color:'inherit'},productImage:{width:theme.spacing(8),height:theme.spacing(8),marginRight:theme.spacing(2)},inventoryCell:{fontWeight:'bold'},lowInventory:{color:theme.palette.error.main}}));const Inventory=()=>{const classes=useStyles();const[products,setProducts]=useState([]);useEffect(()=>{fetchInventoryAndProducts();},[]);const fetchInventoryAndProducts=async()=>{try{// Fetch inventory\nconst inventoryResponse=await fetch(\"\".concat(process.env.REACT_APP_INVENTORY_API_HOST,\":3002/api/inventory\"));const inventoryData=await inventoryResponse.json();// Fetch products\nconst productsResponse=await fetch(\"\".concat(process.env.REACT_APP_PRODUCT_API_HOST,\":3001/api/products\"));const productsData=await productsResponse.json();// Combine inventory data with product details\nconst combinedData=productsData.map(product=>{const inventoryItem=inventoryData.find(item=>item.id===product.id)||{};return{...product,quantity:inventoryItem.quantity||0};});setProducts(combinedData);}catch(error){console.error('Error fetching data:',error);toast.error('Unable to access API',{position:\"top-right\",autoClose:3000});}};const getProductImage=productName=>{return\"/images/products/\".concat(productName,\".webp\");};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",className:classes.container,children:[/*#__PURE__*/_jsxs(Box,{className:classes.header,children:[/*#__PURE__*/_jsx(Button,{component:Link,to:\"/\",className:classes.backButton,variant:\"outlined\",children:\"\\u2190 Back to Homepage\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",className:classes.title})]}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,elevation:3,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{className:classes.tableHeader,children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{className:classes.tableHeaderCell,children:\"Product\"}),/*#__PURE__*/_jsx(TableCell,{className:classes.tableHeaderCell,children:\"Name\"}),/*#__PURE__*/_jsx(TableCell,{className:classes.tableHeaderCell,children:\"Description\"}),/*#__PURE__*/_jsx(TableCell,{className:classes.tableHeaderCell,children:\"Price\"}),/*#__PURE__*/_jsx(TableCell,{className:classes.tableHeaderCell,children:\"Category\"}),/*#__PURE__*/_jsx(TableCell,{className:classes.tableHeaderCell,children:\"Inventory\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:products.map(product=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Avatar,{src:getProductImage(product.name),alt:product.name,className:classes.productImage})}),/*#__PURE__*/_jsx(TableCell,{children:product.name}),/*#__PURE__*/_jsx(TableCell,{children:product.description}),/*#__PURE__*/_jsx(TableCell,{children:\"$\".concat(product.price.toFixed(2))}),/*#__PURE__*/_jsx(TableCell,{children:product.category}),/*#__PURE__*/_jsx(TableCell,{className:\"\".concat(classes.inventoryCell,\" \").concat(product.quantity<=10?classes.lowInventory:''),children:product.quantity})]},product.id))})]})})]});};export default Inventory;","map":{"version":3,"names":["React","useState","useEffect","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Typography","Container","Box","Avatar","Button","Link","toast","jsx","_jsx","jsxs","_jsxs","useStyles","theme","container","marginTop","spacing","header","display","alignItems","marginBottom","backButton","marginRight","title","flexGrow","textAlign","tableHeader","backgroundColor","palette","primary","main","color","common","white","tableHeaderCell","fontWeight","productImage","width","height","inventoryCell","lowInventory","error","Inventory","classes","products","setProducts","fetchInventoryAndProducts","inventoryResponse","fetch","concat","process","env","REACT_APP_INVENTORY_API_HOST","inventoryData","json","productsResponse","REACT_APP_PRODUCT_API_HOST","productsData","combinedData","map","product","inventoryItem","find","item","id","quantity","console","position","autoClose","getProductImage","productName","maxWidth","className","children","component","to","variant","elevation","src","name","alt","description","price","toFixed","category"],"sources":["/Users/rayanslim/Desktop/docker-bootcamp-resources/03-section-three/ecommerce-ui/client/src/pages/Inventory.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  Typography,\n  Container,\n  Box,\n  Avatar,\n  Button,\n} from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport {  toast } from 'react-toastify';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    marginTop: theme.spacing(4),\n  },\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: theme.spacing(4),\n  },\n  backButton: {\n    marginRight: 'auto',\n  },\n  title: {\n    flexGrow: 1,\n    textAlign: 'center',\n  },\n  tableHeader: {\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.common.white,\n  },\n  tableHeaderCell: {\n    fontWeight: 'bold',\n    color: 'inherit',\n  },\n  productImage: {\n    width: theme.spacing(8),\n    height: theme.spacing(8),\n    marginRight: theme.spacing(2),\n  },\n  inventoryCell: {\n    fontWeight: 'bold',\n  },\n  lowInventory: {\n    color: theme.palette.error.main,\n  },\n}));\n\nconst Inventory = () => {\n  const classes = useStyles();\n  const [products, setProducts] = useState([]);\n\n  useEffect(() => {\n    fetchInventoryAndProducts();\n  }, []);\n\n  const fetchInventoryAndProducts = async () => {\n    try {\n      // Fetch inventory\n      const inventoryResponse = await fetch(`${process.env.REACT_APP_INVENTORY_API_HOST}:3002/api/inventory`);\n      const inventoryData = await inventoryResponse.json();\n\n      // Fetch products\n      const productsResponse = await fetch(`${process.env.REACT_APP_PRODUCT_API_HOST}:3001/api/products`);\n      const productsData = await productsResponse.json();\n\n      // Combine inventory data with product details\n      const combinedData = productsData.map(product => {\n        const inventoryItem = inventoryData.find(item => item.id === product.id) || {};\n        return {\n          ...product,\n          quantity: inventoryItem.quantity || 0,\n        };\n      });\n\n      setProducts(combinedData);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n      toast.error('Unable to access API', {\n        position: \"top-right\",\n        autoClose: 3000,\n      });\n\n    }\n  };\n\n  const getProductImage = (productName) => {\n    return `/images/products/${productName}.webp`;\n  };\n\n  return (\n    <Container maxWidth=\"lg\" className={classes.container}>\n      <Box className={classes.header}>\n        <Button component={Link} to=\"/\" className={classes.backButton} variant=\"outlined\">\n          &larr; Back to Homepage\n        </Button>\n        <Typography variant=\"h4\" component=\"h1\" className={classes.title}>\n        </Typography>\n      </Box>\n      <TableContainer component={Paper} elevation={3}>\n        <Table>\n          <TableHead className={classes.tableHeader}>\n            <TableRow>\n              <TableCell className={classes.tableHeaderCell}>Product</TableCell>\n              <TableCell className={classes.tableHeaderCell}>Name</TableCell>\n              <TableCell className={classes.tableHeaderCell}>Description</TableCell>\n              <TableCell className={classes.tableHeaderCell}>Price</TableCell>\n              <TableCell className={classes.tableHeaderCell}>Category</TableCell>\n              <TableCell className={classes.tableHeaderCell}>Inventory</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {products.map((product) => (\n              <TableRow key={product.id}>\n                <TableCell>\n                  <Avatar src={getProductImage(product.name)} alt={product.name} className={classes.productImage} />\n                </TableCell>\n                <TableCell>{product.name}</TableCell>\n                <TableCell>{product.description}</TableCell>\n                <TableCell>{`$${product.price.toFixed(2)}`}</TableCell>\n                <TableCell>{product.category}</TableCell>\n                <TableCell\n                  className={`${classes.inventoryCell} ${product.quantity <= 10 ? classes.lowInventory : ''}`}\n                >\n                  {product.quantity}\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Container>\n  );\n};\n\nexport default Inventory;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}