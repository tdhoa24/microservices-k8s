{"ast":null,"code":"import React,{useState,useEffect}from'react';import{makeStyles}from'@material-ui/core/styles';import{Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Typography,Container,Box,Avatar,Button}from'@material-ui/core';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({productImage:{width:theme.spacing(8),height:theme.spacing(8),marginRight:theme.spacing(2)},inventoryCell:{fontWeight:'bold',color:theme.palette.text.primary},container:{marginTop:theme.spacing(4)},header:{display:'flex',alignItems:'center',marginBottom:theme.spacing(4)},backButton:{marginRight:'auto'},title:{flexGrow:1,textAlign:'center'},tableHeader:{backgroundColor:theme.palette.primary.main,color:theme.palette.common.white},tableHeaderCell:{fontWeight:'bold',color:'inherit'},productImage:{width:theme.spacing(8),height:theme.spacing(8),marginRight:theme.spacing(2)},inventoryCell:{fontWeight:'bold'},lowInventory:{color:theme.palette.error.main}}));const Inventory=()=>{const classes=useStyles();const[products,setProducts]=useState([]);useEffect(()=>{fetchInventoryAndProducts();},[]);const fetchInventoryAndProducts=async()=>{try{// Fetch inventory\nconst inventoryResponse=await fetch('http://localhost:3002/api/inventory');const inventoryData=await inventoryResponse.json();// Fetch products\nconst productsResponse=await fetch('http://localhost:3001/api/products');const productsData=await productsResponse.json();// Combine inventory data with product details\nconst combinedData=productsData.map(product=>{const inventoryItem=inventoryData.find(item=>item.id===product.id)||{};return{...product,quantity:inventoryItem.quantity||0};});setProducts(combinedData);}catch(error){console.error('Error fetching data:',error);}};const getProductImage=productName=>{return\"/images/products/\".concat(productName,\".webp\");};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",children:[/*#__PURE__*/_jsx(Box,{marginBottom:4,children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Inventory\"})}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Product\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Name\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Description\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Price\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Category\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Inventory\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:products.map(product=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Avatar,{src:getProductImage(product.name),alt:product.name,className:classes.productImage})}),/*#__PURE__*/_jsx(TableCell,{children:product.name}),/*#__PURE__*/_jsx(TableCell,{children:product.description}),/*#__PURE__*/_jsx(TableCell,{children:\"$\".concat(product.price.toFixed(2))}),/*#__PURE__*/_jsx(TableCell,{children:product.category}),/*#__PURE__*/_jsx(TableCell,{className:classes.inventoryCell+(product.quantity<=10?' lowInventory':''),children:product.quantity})]},product.id))})]})})]});};export default Inventory;","map":{"version":3,"names":["React","useState","useEffect","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Typography","Container","Box","Avatar","Button","Link","jsx","_jsx","jsxs","_jsxs","useStyles","theme","productImage","width","spacing","height","marginRight","inventoryCell","fontWeight","color","palette","text","primary","container","marginTop","header","display","alignItems","marginBottom","backButton","title","flexGrow","textAlign","tableHeader","backgroundColor","main","common","white","tableHeaderCell","lowInventory","error","Inventory","classes","products","setProducts","fetchInventoryAndProducts","inventoryResponse","fetch","inventoryData","json","productsResponse","productsData","combinedData","map","product","inventoryItem","find","item","id","quantity","console","getProductImage","productName","concat","maxWidth","children","variant","gutterBottom","component","src","name","alt","className","description","price","toFixed","category"],"sources":["/Users/rayanslim/Desktop/docker-bootcamp-resources/03-section-three/ecommerce-ui/client/src/pages/Inventory.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  Typography,\n  Container,\n  Box,\n  Avatar,\n  Button,\n} from '@material-ui/core';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n    productImage: {\n    width: theme.spacing(8),\n    height: theme.spacing(8),\n    marginRight: theme.spacing(2),\n    },\n    inventoryCell: {\n    fontWeight: 'bold',\n    color: theme.palette.text.primary,\n    },\n    \n  container: {\n    marginTop: theme.spacing(4),\n  },\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: theme.spacing(4),\n  },\n  backButton: {\n    marginRight: 'auto',\n  },\n  title: {\n    flexGrow: 1,\n    textAlign: 'center',\n  },\n  tableHeader: {\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.common.white,\n  },\n  tableHeaderCell: {\n    fontWeight: 'bold',\n    color: 'inherit',\n  },\n  productImage: {\n    width: theme.spacing(8),\n    height: theme.spacing(8),\n    marginRight: theme.spacing(2),\n  },\n  inventoryCell: {\n    fontWeight: 'bold',\n  },\n  lowInventory: {\n    color: theme.palette.error.main,\n  },\n}));\n\nconst Inventory = () => {\n    const classes = useStyles();\n    const [products, setProducts] = useState([]);\n  \n    useEffect(() => {\n      fetchInventoryAndProducts();\n    }, []);\n\n  const fetchInventoryAndProducts = async () => {\n    try {\n      // Fetch inventory\n      const inventoryResponse = await fetch('http://localhost:3002/api/inventory');\n      const inventoryData = await inventoryResponse.json();\n\n      // Fetch products\n      const productsResponse = await fetch('http://localhost:3001/api/products');\n      const productsData = await productsResponse.json();\n\n      // Combine inventory data with product details\n      const combinedData = productsData.map(product => {\n        const inventoryItem = inventoryData.find(item => item.id === product.id) || {};\n        return {\n          ...product,\n          quantity: inventoryItem.quantity || 0,\n        };\n      });\n\n      setProducts(combinedData);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  };\n\n  const getProductImage = (productName) => {\n    return `/images/products/${productName}.webp`;\n  };\n\n  return (\n    <Container maxWidth=\"lg\">\n      <Box marginBottom={4}>\n        <Typography variant=\"h4\" gutterBottom>\n          Inventory\n        </Typography>\n      </Box>\n      <TableContainer component={Paper}>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>Product</TableCell>\n              <TableCell>Name</TableCell>\n              <TableCell>Description</TableCell>\n              <TableCell>Price</TableCell>\n              <TableCell>Category</TableCell>\n              <TableCell>Inventory</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {products.map((product) => (\n              <TableRow key={product.id}>\n                <TableCell>\n                  <Avatar\n                    src={getProductImage(product.name)}\n                    alt={product.name}\n                    className={classes.productImage}\n                  />\n                </TableCell>\n                <TableCell>{product.name}</TableCell>\n                <TableCell>{product.description}</TableCell>\n                <TableCell>{`$${product.price.toFixed(2)}`}</TableCell>\n                <TableCell>{product.category}</TableCell>\n                <TableCell className={classes.inventoryCell + (product.quantity <= 10 ? ' lowInventory' : '')}>\n                  {product.quantity}\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Container>\n  );\n};\n\nexport default Inventory;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}