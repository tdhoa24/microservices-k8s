{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Typography,TextField,Button,Grid,Paper}from'@material-ui/core';import{makeStyles}from'@material-ui/core/styles';import ArrowBackIcon from'@material-ui/icons/ArrowBack';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({container:{marginTop:theme.spacing(6),display:'flex',flexDirection:'column',alignItems:'center'},paper:{padding:theme.spacing(4),borderRadius:theme.spacing(1),boxShadow:theme.shadows[3],maxWidth:600,width:'100%'},header:{marginBottom:theme.spacing(4),textAlign:'center'},form:{width:'100%',marginTop:theme.spacing(2)},backButton:{marginBottom:theme.spacing(2),alignSelf:'flex-start',marginLeft:-theme.spacing(4)},submitButton:{marginTop:theme.spacing(4),width:'100%'}}));const Contact=()=>{const classes=useStyles();const[subject,setSubject]=useState('');const[body,setBody]=useState('');const[submitted,setSubmitted]=useState(false);const[introMessage,setIntroMessage]=useState('');useEffect(()=>{// Fetch the introductory message from the API when the component mounts\nconst fetchIntroMessage=async()=>{try{const response=await fetch('http://localhost:8000/api/contact-message');const data=await response.json();setIntroMessage(data.message);}catch(error){console.error('Error fetching intro message:',error);// Fall back to a default message\nsetIntroMessage(\"We're here to help! If you have any questions, concerns, or feedback, please don't hesitate to reach out to us. Our dedicated support team is ready to assist you.\");}};fetchIntroMessage();},[]);const handleSubmit=async e=>{e.preventDefault();try{// Submit the form data to the API\nconst response=await fetch('http://localhost:8000/api/contact-submit',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({subject,body})});const data=await response.json();if(data.status==='success'){setSubmitted(true);}else{// Handle errors based on your API's error structure\nconsole.error('Submission failed:',data.message);}}catch(error){console.error('Error submitting contact form:',error);}};if(submitted){return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",className:classes.container,children:/*#__PURE__*/_jsxs(Paper,{className:classes.paper,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",className:classes.header,children:\"Thank you for contacting us!\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",align:\"center\",children:\"Your message has been successfully submitted. Our support team will get back to you as soon as possible.\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",className:classes.submitButton,component:Link,to:\"/\",children:\"Back to Home\"})]})});}return/*#__PURE__*/_jsxs(Container,{maxWidth:\"sm\",className:classes.container,children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(ArrowBackIcon,{}),className:classes.backButton,component:Link,to:\"/\",children:\"Back\"}),/*#__PURE__*/_jsxs(Paper,{className:classes.paper,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",className:classes.header,children:\"Contact Us\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",align:\"center\",gutterBottom:true,children:introMessage}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{name:\"subject\",label:\"Subject\",fullWidth:true,value:subject,onChange:e=>setSubject(e.target.value),variant:\"outlined\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{name:\"body\",label:\"Message\",fullWidth:true,multiline:true,rows:6,value:body,onChange:e=>setBody(e.target.value),variant:\"outlined\"})})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",className:classes.submitButton,children:\"Submit\"})]})]})]});};export default Contact;","map":{"version":3,"names":["React","useState","useEffect","Container","Typography","TextField","Button","Grid","Paper","makeStyles","ArrowBackIcon","Link","jsx","_jsx","jsxs","_jsxs","useStyles","theme","container","marginTop","spacing","display","flexDirection","alignItems","paper","padding","borderRadius","boxShadow","shadows","maxWidth","width","header","marginBottom","textAlign","form","backButton","alignSelf","marginLeft","submitButton","Contact","classes","subject","setSubject","body","setBody","submitted","setSubmitted","introMessage","setIntroMessage","fetchIntroMessage","response","fetch","data","json","message","error","console","handleSubmit","e","preventDefault","method","headers","JSON","stringify","status","className","children","variant","component","align","color","to","startIcon","gutterBottom","onSubmit","item","xs","name","label","fullWidth","value","onChange","target","multiline","rows","type"],"sources":["/Users/rayanslim/Desktop/docker-bootcamp-resources/03-section-three/ecommerce-ui/client/src/pages/Contact.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Typography, TextField, Button, Grid, Paper } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    marginTop: theme.spacing(6),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  paper: {\n    padding: theme.spacing(4),\n    borderRadius: theme.spacing(1),\n    boxShadow: theme.shadows[3],\n    maxWidth: 600,\n    width: '100%',\n  },\n  header: {\n    marginBottom: theme.spacing(4),\n    textAlign: 'center',\n  },\n  form: {\n    width: '100%',\n    marginTop: theme.spacing(2),\n  },\n  backButton: {\n    marginBottom: theme.spacing(2),\n    alignSelf: 'flex-start',\n    marginLeft: -theme.spacing(4),\n  },\n  submitButton: {\n    marginTop: theme.spacing(4),\n    width: '100%',\n  },\n}));\n\nconst Contact = () => {\n  const classes = useStyles();\n  const [subject, setSubject] = useState('');\n  const [body, setBody] = useState('');\n  const [submitted, setSubmitted] = useState(false);\n  const [introMessage, setIntroMessage] = useState('');\n\n  useEffect(() => {\n    // Fetch the introductory message from the API when the component mounts\n    const fetchIntroMessage = async () => {\n      try {\n        const response = await fetch('http://localhost:8000/api/contact-message');\n        const data = await response.json();\n        setIntroMessage(data.message);\n      } catch (error) {\n        console.error('Error fetching intro message:', error);\n        // Fall back to a default message\n        setIntroMessage(\"We're here to help! If you have any questions, concerns, or feedback, please don't hesitate to reach out to us. Our dedicated support team is ready to assist you.\");\n      }\n    };\n\n    fetchIntroMessage();\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      // Submit the form data to the API\n      const response = await fetch('http://localhost:8000/api/contact-submit', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ subject, body }),\n      });\n      const data = await response.json();\n      if (data.status === 'success') {\n        setSubmitted(true);\n      } else {\n        // Handle errors based on your API's error structure\n        console.error('Submission failed:', data.message);\n      }\n    } catch (error) {\n      console.error('Error submitting contact form:', error);\n    }\n  };\n\n  if (submitted) {\n    return (\n      <Container maxWidth=\"sm\" className={classes.container}>\n        <Paper className={classes.paper}>\n          <Typography variant=\"h4\" component=\"h1\" className={classes.header}>\n            Thank you for contacting us!\n          </Typography>\n          <Typography variant=\"body1\" align=\"center\">\n            Your message has been successfully submitted. Our support team will get back to you as soon as possible.\n          </Typography>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submitButton}\n            component={Link}\n            to=\"/\"\n          >\n            Back to Home\n          </Button>\n        </Paper>\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"sm\" className={classes.container}>\n      <Button\n        variant=\"outlined\"\n        startIcon={<ArrowBackIcon />}\n        className={classes.backButton}\n        component={Link}\n        to=\"/\"\n      >\n        Back\n      </Button>\n      <Paper className={classes.paper}>\n        <Typography variant=\"h4\" component=\"h1\" className={classes.header}>\n          Contact Us\n        </Typography>\n        <Typography variant=\"body1\" align=\"center\" gutterBottom>\n          {introMessage}\n        </Typography>\n        <form className={classes.form} onSubmit={handleSubmit}>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                name=\"subject\"\n                label=\"Subject\"\n                fullWidth\n                value={subject}\n                onChange={(e) => setSubject(e.target.value)}\n                variant=\"outlined\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                name=\"body\"\n                label=\"Message\"\n                fullWidth\n                multiline\n                rows={6}\n                value={body}\n                onChange={(e) => setBody(e.target.value)}\n                variant=\"outlined\"\n              />\n            </Grid>\n            </Grid>\n          <Button\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submitButton}\n          >\n            Submit\n          </Button>\n        </form>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default Contact;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}