{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Route,Routes,Navigate}from'react-router-dom';import Home from'./pages/Home';import ProductList from'./pages/ProductList';import ProductDetail from'./pages/ProductDetail';import AuthPage from'./pages/AuthPage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[isAuthenticated,setIsAuthenticated]=useState(false);useEffect(()=>{const token=localStorage.getItem('token');if(token){setIsAuthenticated(true);}},[]);const handleLogout=()=>{localStorage.removeItem('token');setIsAuthenticated(false);};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/products\",element:isAuthenticated?/*#__PURE__*/_jsx(ProductList,{onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/auth\"})}),/*#__PURE__*/_jsx(Route,{path:\"/products/:id\",element:isAuthenticated?/*#__PURE__*/_jsx(ProductDetail,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/auth\"})}),/*#__PURE__*/_jsx(Route,{path:\"/auth\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/products\"}):/*#__PURE__*/_jsx(AuthPage,{setIsAuthenticated:setIsAuthenticated})})]})})});};export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","Navigate","Home","ProductList","ProductDetail","AuthPage","jsx","_jsx","jsxs","_jsxs","App","isAuthenticated","setIsAuthenticated","token","localStorage","getItem","handleLogout","removeItem","children","exact","path","element","onLogout","to"],"sources":["/Users/rayanslim/Desktop/docker-bootcamp-resources/03-section-three/ecommerce-ui/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\nimport Home from './pages/Home';\nimport ProductList from './pages/ProductList';\nimport ProductDetail from './pages/ProductDetail';\nimport AuthPage from './pages/AuthPage';\n\nconst App = () => {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      setIsAuthenticated(true);\n    }\n  }, []);\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    setIsAuthenticated(false);\n  };\n\n  return (\n    <Router>\n      <div>\n        <Routes>\n          <Route exact path=\"/\" element={<Home />} />\n          <Route\n            exact\n            path=\"/products\"\n            element={\n              isAuthenticated ? (\n                <ProductList onLogout={handleLogout} />\n              ) : (\n                <Navigate to=\"/auth\" />\n              )\n            }\n          />\n          <Route\n            path=\"/products/:id\"\n            element={\n              isAuthenticated ? (\n                <ProductDetail />\n              ) : (\n                <Navigate to=\"/auth\" />\n              )\n            }\n          />\n          <Route\n            path=\"/auth\"\n            element={\n              isAuthenticated ? (\n                <Navigate to=\"/products\" />\n              ) : (\n                <AuthPage setIsAuthenticated={setIsAuthenticated} />\n              )\n            }\n          />\n        </Routes>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,KAAK,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,kBAAkB,CACnF,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B,MAAO,CAAAC,WAAW,KAAM,qBAAqB,CAC7C,MAAO,CAAAC,aAAa,KAAM,uBAAuB,CACjD,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,GAAG,CAAGA,CAAA,GAAM,CAChB,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAE7DC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAIF,KAAK,CAAE,CACTD,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAI,YAAY,CAAGA,CAAA,GAAM,CACzBF,YAAY,CAACG,UAAU,CAAC,OAAO,CAAC,CAChCL,kBAAkB,CAAC,KAAK,CAAC,CAC3B,CAAC,CAED,mBACEL,IAAA,CAACT,MAAM,EAAAoB,QAAA,cACLX,IAAA,QAAAW,QAAA,cACET,KAAA,CAACT,MAAM,EAAAkB,QAAA,eACLX,IAAA,CAACR,KAAK,EAACoB,KAAK,MAACC,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEd,IAAA,CAACL,IAAI,GAAE,CAAE,CAAE,CAAC,cAC3CK,IAAA,CAACR,KAAK,EACJoB,KAAK,MACLC,IAAI,CAAC,WAAW,CAChBC,OAAO,CACLV,eAAe,cACbJ,IAAA,CAACJ,WAAW,EAACmB,QAAQ,CAAEN,YAAa,CAAE,CAAC,cAEvCT,IAAA,CAACN,QAAQ,EAACsB,EAAE,CAAC,OAAO,CAAE,CAEzB,CACF,CAAC,cACFhB,IAAA,CAACR,KAAK,EACJqB,IAAI,CAAC,eAAe,CACpBC,OAAO,CACLV,eAAe,cACbJ,IAAA,CAACH,aAAa,GAAE,CAAC,cAEjBG,IAAA,CAACN,QAAQ,EAACsB,EAAE,CAAC,OAAO,CAAE,CAEzB,CACF,CAAC,cACFhB,IAAA,CAACR,KAAK,EACJqB,IAAI,CAAC,OAAO,CACZC,OAAO,CACLV,eAAe,cACbJ,IAAA,CAACN,QAAQ,EAACsB,EAAE,CAAC,WAAW,CAAE,CAAC,cAE3BhB,IAAA,CAACF,QAAQ,EAACO,kBAAkB,CAAEA,kBAAmB,CAAE,CAEtD,CACF,CAAC,EACI,CAAC,CACN,CAAC,CACA,CAAC,CAEb,CAAC,CAED,cAAe,CAAAF,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}